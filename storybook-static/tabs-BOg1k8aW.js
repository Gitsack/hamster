import{j as H}from"./jsx-runtime-u17CrQMm.js";import{r as s}from"./app-BHuVDAkc.js";import{c as G}from"./utils-CDN07tui.js";import{d as ve,c as Te,C as Re}from"./useLabelableId-CyGgmgle.js";import{f as de,a as $,c as U,u as Ce,b as ee,E as Me}from"./useRenderElement-D0Q1kVud.js";import{u as Y,e as ue,c as oe,n as se}from"./useBaseUiId-BvJSLVy2.js";import{q as fe,m as Ee,A as ie,B as ye,D as Pe,E as ae,G as Ae,J as _e,K as Se,M as Z,N as De,O as Ke,P as W,Q as J,R as ke,T as we,U as He,V as re,W as Q,X as Oe,Y as Le,Z as Ne,_ as ze,$ as Be,a0 as je,a1 as Ye}from"./app-CFoDCqX-.js";import{a3 as ge,n as Ve,R as le,o as Fe}from"./media-status-badge-DETbNkVM.js";import{u as We}from"./app-layout-CTvh2ZE0.js";const he=s.createContext(void 0);function te(){const t=s.useContext(he);if(t===void 0)throw new Error(de(64));return t}let Ge=(function(t){return t.activationDirection="data-activation-direction",t.orientation="data-orientation",t})({});const ne={tabActivationDirection:t=>({[Ge.activationDirection]:t})},$e=s.forwardRef(function(i,r){const{className:u,defaultValue:e=0,onValueChange:a,orientation:l="horizontal",render:C,value:I,...M}=i,g=ge(),E=Object.hasOwn(i,"defaultValue"),h=s.useRef([]),[S,b]=s.useState(()=>new Map),[p,R]=ve({controlled:I,default:e,name:"Tabs",state:"value"}),y=I!==void 0,[d,f]=s.useState(()=>new Map),[D,v]=s.useState("none"),T=Y((n,x)=>{a?.(n,x),!x.isCanceled&&(R(n),v(x.activationDirection))}),m=Y((n,x)=>{b(c=>{if(c.get(n)===x)return c;const _=new Map(c);return _.set(n,x),_})}),K=Y((n,x)=>{b(c=>{if(!c.has(n)||c.get(n)!==x)return c;const _=new Map(c);return _.delete(n),_})}),o=s.useCallback(n=>S.get(n),[S]),P=s.useCallback(n=>{for(const x of d.values())if(n===x?.value)return x?.id},[d]),w=s.useCallback(n=>{if(n===void 0)return null;for(const[x,c]of d.entries())if(c!=null&&n===(c.value??c.index))return x;return null},[d]),k=s.useMemo(()=>({direction:g,getTabElementBySelectedValue:w,getTabIdByPanelValue:P,getTabPanelIdByValue:o,onValueChange:T,orientation:l,registerMountedTabPanel:m,setTabMap:f,unregisterMountedTabPanel:K,tabActivationDirection:D,value:p}),[g,w,P,o,T,l,m,f,K,D,p]),A=s.useMemo(()=>{for(const n of d.values())if(n!=null&&n.value===p)return n},[d,p]),L=s.useMemo(()=>{for(const n of d.values())if(n!=null&&!n.disabled)return n.value},[d]);$(()=>{if(y||d.size===0)return;const n=A?.disabled,x=A==null&&p!==null;if(E&&n&&p===e||!n&&!x)return;const _=L??null;p!==_&&(R(_),v("none"))},[e,L,E,y,A,v,R,d,p]);const N=U("div",i,{state:{orientation:l,tabActivationDirection:D},ref:r,props:M,stateAttributesMapping:ne});return H.jsx(he.Provider,{value:k,children:H.jsx(fe,{elementsRef:h,children:N})})}),be="data-composite-item-active",pe=s.createContext(void 0);function Ue(){const t=s.useContext(pe);if(t===void 0)throw new Error(de(65));return t}const qe=s.forwardRef(function(i,r){const{className:u,disabled:e=!1,render:a,value:l,id:C,nativeButton:I=!0,...M}=i,{value:g,getTabPanelIdByValue:E,orientation:h}=te(),{activateOnFocus:S,highlightedTabIndex:b,onTabActivation:p,setHighlightedTabIndex:R,tabsListElement:y}=Ue(),d=ue(C),f=s.useMemo(()=>({disabled:e,id:d,value:l}),[e,d,l]),{compositeProps:D,compositeRef:v,index:T}=We({metadata:f}),m=l===g,K=s.useRef(!1);$(()=>{if(K.current){K.current=!1;return}if(!(m&&T>-1&&b!==T))return;const c=y;if(c!=null){const _=Ve(le(c));if(_&&Fe(c,_))return}e||R(T)},[m,T,b,R,e,y]);const{getButtonProps:o,buttonRef:P}=Te({disabled:e,native:I,focusableWhenDisabled:!0}),w=E(l),k=s.useRef(!1),A=s.useRef(!1);function L(c){m||e||p(l,oe(se,c.nativeEvent,void 0,{activationDirection:"none"}))}function O(c){m||(T>-1&&!e&&R(T),!e&&S&&(!k.current||k.current&&A.current)&&p(l,oe(se,c.nativeEvent,void 0,{activationDirection:"none"})))}function N(c){if(m||e)return;k.current=!0;function _(){k.current=!1,A.current=!1}(!c.button||c.button===0)&&(A.current=!0,le(c.currentTarget).addEventListener("pointerup",_,{once:!0}))}const n=s.useMemo(()=>({disabled:e,active:m,orientation:h}),[e,m,h]);return U("button",i,{state:n,ref:[r,P,v],props:[D,{role:"tab","aria-controls":w,"aria-selected":m,id:d,onClick:L,onFocus:O,onPointerDown:N,[be]:m?"":void 0,onKeyDownCapture(){K.current=!0}},M,o]})});let Xe=(function(t){return t.index="data-index",t.activationDirection="data-activation-direction",t.orientation="data-orientation",t.hidden="data-hidden",t})({});const Ze=s.forwardRef(function(i,r){const{className:u,value:e,render:a,keepMounted:l=!1,...C}=i,{value:I,getTabIdByPanelValue:M,orientation:g,tabActivationDirection:E,registerMountedTabPanel:h,unregisterMountedTabPanel:S}=te(),b=ue(),p=s.useMemo(()=>({id:b,value:e}),[b,e]),{ref:R,index:y}=Ee({metadata:p}),d=e!==I,f=M(e),D=s.useMemo(()=>({hidden:d,orientation:g,tabActivationDirection:E}),[d,g,E]),v=U("div",i,{state:D,ref:[r,R],props:[{"aria-labelledby":f,hidden:d,id:b??void 0,role:"tabpanel",tabIndex:d?-1:0,[Xe.index]:y},C],stateAttributesMapping:ne});return $(()=>{if(!(d&&!l)&&b!=null)return h(e,b),()=>{S(e,b)}},[d,l,e,b,h,S]),!d||l?v:null});function Je(t){return t==null||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true"}const Qe=[];function et(t){const{itemSizes:i,cols:r=1,loopFocus:u=!0,dense:e=!1,orientation:a="both",direction:l,highlightedIndex:C,onHighlightedIndexChange:I,rootRef:M,enableHomeAndEndKeys:g=!1,stopEventPropagation:E=!1,disabledIndices:h,modifierKeys:S=Qe}=t,[b,p]=s.useState(0),R=r>1,y=s.useRef(null),d=Ce(y,M),f=s.useRef([]),D=s.useRef(!1),v=C??b,T=Y((o,P=!1)=>{if((I??p)(o),P){const w=f.current[o];ie(y.current,w,l,a)}}),m=Y(o=>{if(o.size===0||D.current)return;D.current=!0;const P=Array.from(o.keys()),w=P.find(A=>A?.hasAttribute(be))??null,k=w?P.indexOf(w):-1;k!==-1&&T(k),ie(y.current,w,l,a)}),K=s.useMemo(()=>({"aria-orientation":a==="both"?void 0:a,ref:d,onFocus(o){!y.current||!ae(o.target)||o.target.setSelectionRange(0,o.target.value.length??0)},onKeyDown(o){const P=g?ye:Pe;if(!P.has(o.key)||tt(o,S)||!y.current)return;const k=l==="rtl",A=k?re:J,L={horizontal:A,vertical:W,both:A}[a],O=k?J:re,N={horizontal:O,vertical:Q,both:O}[a];if(ae(o.target)&&!Je(o.target)){const j=o.target.selectionStart,z=o.target.selectionEnd,X=o.target.value??"";if(j==null||o.shiftKey||j!==z||o.key!==N&&j<X.length||o.key!==L&&j>0)return}let n=v;const x=Ae(f,h),c=_e(f,h);if(R){const j=i||Array.from({length:f.current.length},()=>({width:1,height:1})),z=Se(j,r,e),X=z.findIndex(B=>B!=null&&!Z(f,B,h)),xe=z.reduce((B,V,Ie)=>V!=null&&!Z(f,V,h)?Ie:B,-1);n=z[De({current:z.map(B=>B?f.current[B]:null)},{event:o,orientation:a,loopFocus:u,cols:r,disabledIndices:ke([...h||f.current.map((B,V)=>Z(f,V)?V:void 0),void 0],z),minIndex:X,maxIndex:xe,prevIndex:Ke(v>c?x:v,j,z,r,o.key===W?"bl":o.key===J?"tr":"tl"),rtl:k})]}const _={horizontal:[A],vertical:[W],both:[A,W]}[a],F={horizontal:[O],vertical:[Q],both:[O,Q]}[a],me=R?P:{horizontal:g?Be:je,vertical:g?Ne:ze,both:P}[a];g&&(o.key===we?n=x:o.key===He&&(n=c)),n===v&&(_.includes(o.key)||F.includes(o.key))&&(u&&n===c&&_.includes(o.key)?n=x:u&&n===x&&F.includes(o.key)?n=c:n=Oe(f,{startingIndex:n,decrement:F.includes(o.key),disabledIndices:h})),n!==v&&!Le(f,n)&&(E&&o.stopPropagation(),me.has(o.key)&&o.preventDefault(),T(n,!0),queueMicrotask(()=>{f.current[n]?.focus()}))}}),[r,e,l,h,f,g,v,R,i,u,d,S,T,a,E]);return s.useMemo(()=>({props:K,highlightedIndex:v,onHighlightedIndexChange:T,elementsRef:f,disabledIndices:h,onMapChange:m,relayKeyboardEvent:K.onKeyDown}),[K,v,T,f,h,m])}function tt(t,i){for(const r of Ye.values())if(!i.includes(r)&&t.getModifierState(r))return!0;return!1}function nt(t){const{render:i,className:r,refs:u=ee,props:e=ee,state:a=Me,stateAttributesMapping:l,highlightedIndex:C,onHighlightedIndexChange:I,orientation:M,dense:g,itemSizes:E,loopFocus:h,cols:S,enableHomeAndEndKeys:b,onMapChange:p,stopEventPropagation:R=!0,rootRef:y,disabledIndices:d,modifierKeys:f,highlightItemOnHover:D=!1,tag:v="div",...T}=t,m=ge(),{props:K,highlightedIndex:o,onHighlightedIndexChange:P,elementsRef:w,onMapChange:k,relayKeyboardEvent:A}=et({itemSizes:E,cols:S,loopFocus:h,dense:g,orientation:M,highlightedIndex:C,onHighlightedIndexChange:I,rootRef:y,stopEventPropagation:R,enableHomeAndEndKeys:b,direction:m,disabledIndices:d,modifierKeys:f}),L=U(v,t,{state:a,ref:u,props:[K,...e,T],stateAttributesMapping:l}),O=s.useMemo(()=>({highlightedIndex:o,onHighlightedIndexChange:P,highlightItemOnHover:D,relayKeyboardEvent:A}),[o,P,D,A]);return H.jsx(Re.Provider,{value:O,children:H.jsx(fe,{elementsRef:w,onMapChange:N=>{p?.(N),k(N)},children:L})})}const ot=s.forwardRef(function(i,r){const{activateOnFocus:u=!1,className:e,loopFocus:a=!0,render:l,...C}=i,{getTabElementBySelectedValue:I,onValueChange:M,orientation:g,value:E,setTabMap:h,tabActivationDirection:S}=te(),[b,p]=s.useState(0),[R,y]=s.useState(null),d=st(E,g,R,I),f=Y((m,K)=>{if(m!==E){const o=d(m);K.activationDirection=o,M(m,K)}}),D=s.useMemo(()=>({orientation:g,tabActivationDirection:S}),[g,S]),v={"aria-orientation":g==="vertical"?"vertical":void 0,role:"tablist"},T=s.useMemo(()=>({activateOnFocus:u,highlightedTabIndex:b,onTabActivation:f,setHighlightedTabIndex:p,tabsListElement:R,value:E}),[u,b,f,p,R,E]);return H.jsx(pe.Provider,{value:T,children:H.jsx(nt,{render:l,className:e,state:D,refs:[r,y],props:[v,C],stateAttributesMapping:ne,highlightedIndex:b,enableHomeAndEndKeys:!0,loopFocus:a,orientation:g,onHighlightedIndexChange:p,onMapChange:h,disabledIndices:ee})})});function ce(t,i){const{left:r,top:u}=t.getBoundingClientRect(),{left:e,top:a}=i.getBoundingClientRect(),l=r-e,C=u-a;return{left:l,top:C}}function st(t,i,r,u){const[e,a]=s.useState(null);return $(()=>{if(t==null||r==null){a(null);return}const l=u(t);if(l==null){a(null);return}const{left:C,top:I}=ce(l,r);a(i==="horizontal"?C:I)},[i,u,r,t]),s.useCallback(l=>{if(l===t)return"none";if(l==null)return a(null),"none";if(l!=null&&r!=null){const C=u(l);if(C!=null){const{left:I,top:M}=ce(C,r);if(e==null)return a(i==="horizontal"?I:M),"none";if(i==="horizontal"){if(I<e)return a(I),"left";if(I>e)return a(I),"right"}else{if(M<e)return a(M),"up";if(M>e)return a(M),"down"}}}return"none"},[u,i,e,r,t])}const q=s.createContext(void 0);function it({className:t,id:i,...r}){const u=s.useId(),e=i||u;return H.jsx(q.Provider,{value:e,children:H.jsx($e,{"data-slot":"tabs",className:G("flex flex-col gap-2",t),...r})})}function at({className:t,id:i,...r}){const u=s.useContext(q),e=i||(u?`${u}-list`:void 0);return H.jsx(ot,{id:e,"data-slot":"tabs-list",className:G("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...r})}function rt({className:t,value:i,id:r,...u}){const e=s.useContext(q),a=r||(e&&i?`${e}-trigger-${i}`:void 0);return H.jsx(qe,{id:a,value:i,"data-slot":"tabs-trigger",className:G("data-[active]:bg-primary data-[active]:text-white focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...u})}function lt({className:t,value:i,id:r,...u}){const e=s.useContext(q),a=r||(e&&i?`${e}-panel-${i}`:void 0);return H.jsx(Ze,{id:a,value:i,"data-slot":"tabs-content",className:G("flex-1 outline-none",t),...u})}it.__docgenInfo={description:"",methods:[],displayName:"Tabs",props:{id:{required:!1,tsType:{name:"string"},description:""}}};at.__docgenInfo={description:"",methods:[],displayName:"TabsList"};rt.__docgenInfo={description:"",methods:[],displayName:"TabsTrigger"};lt.__docgenInfo={description:"",methods:[],displayName:"TabsContent"};export{it as T,at as a,rt as b,lt as c};
