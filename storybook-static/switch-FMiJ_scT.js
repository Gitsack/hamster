import{j as i}from"./jsx-runtime-u17CrQMm.js";import{c as F}from"./utils-CDN07tui.js";import{r as s}from"./app-BHuVDAkc.js";import{f as ne,u as ae,a as N,b as de,h as se,d as re,e as oe,g as ce,c as ie}from"./useLabelableId-CyGgmgle.js";import{u as le,e as ue,v as fe,c as he,n as pe}from"./useBaseUiId-BvJSLVy2.js";import{f as me,u as ke,a as ge,m as be,c as S}from"./useRenderElement-D0Q1kVud.js";const q=s.createContext(void 0);function ve(){const e=s.useContext(q);if(e===void 0)throw new Error(me(63));return e}let M=(function(e){return e.checked="data-checked",e.unchecked="data-unchecked",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});const L={...ne,checked(e){return e?{[M.checked]:""}:{[M.unchecked]:""}}},xe=s.forwardRef(function(r,h){const{checked:v,className:T,defaultChecked:p,id:m,inputRef:k,name:g,nativeButton:O=!1,onCheckedChange:_,readOnly:l=!1,required:u=!1,disabled:z=!1,render:Pe,uncheckedValue:x,...H}=r,{clearErrors:U}=ae(),{state:C,setTouched:G,setDirty:J,validityData:K,setFilled:b,setFocused:y,shouldValidateOnChange:Q,validationMode:W,disabled:X,name:Y,validation:n}=N(),{labelId:Z}=de(),a=X||z,o=Y??g,P=le(_),c=s.useRef(null),R=ke(c,k,n.inputRef),f=s.useRef(null),w=ue(),E=se({id:m,implicit:!1,controlRef:f}),[t,I]=re({controlled:v,default:!!p,name:"Switch",state:"checked"});oe({id:w,commit:n.commit,value:t,controlRef:f,name:o,getValue:()=>t}),ge(()=>{c.current&&b(c.current.checked)},[c,b]),ce(t,()=>{U(o),J(t!==K.initialValue),b(t),Q()?n.commit(t):n.commit(t,!0)});const{getButtonProps:$,buttonRef:D}=ie({disabled:a,native:O}),A={id:w,role:"switch","aria-checked":t,"aria-readonly":l||void 0,"aria-labelledby":Z,onFocus(){a||y(!0)},onBlur(){const d=c.current;!d||a||(G(!0),y(!1),W==="onBlur"&&n.commit(d.checked))},onClick(d){l||a||(d.preventDefault(),c?.current?.click())}},ee=s.useMemo(()=>be({checked:t,disabled:a,id:E,name:o,required:u,style:fe,tabIndex:-1,type:"checkbox","aria-hidden":!0,ref:R,onChange(d){if(d.nativeEvent.defaultPrevented)return;const j=d.target.checked,B=he(pe,d.nativeEvent);P?.(j,B),!B.isCanceled&&I(j)},onFocus(){f.current?.focus()}},n.getInputValidationProps),[t,a,R,E,o,P,u,I,n]),V=s.useMemo(()=>({...C,checked:t,disabled:a,readOnly:l,required:u}),[C,t,a,l,u]),te=S("span",r,{state:V,ref:[h,f,D],props:[A,n.getValidationProps,H,$],stateAttributesMapping:L});return i.jsxs(q.Provider,{value:V,children:[te,!t&&o&&x!==void 0&&i.jsx("input",{type:"hidden",name:o,value:x}),i.jsx("input",{...ee})]})}),Ce=s.forwardRef(function(r,h){const{render:v,className:T,...p}=r,{state:m}=N(),k=ve(),g={...m,...k};return S("span",r,{state:g,ref:h,stateAttributesMapping:L,props:p})});function ye({className:e,...r}){return i.jsx(xe,{"data-slot":"switch",className:F("peer data-[checked]:bg-primary data-[unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:i.jsx(Ce,{"data-slot":"switch-thumb",className:F("bg-background dark:data-[unchecked]:bg-foreground dark:data-[checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[checked]:translate-x-[calc(100%-2px)] data-[unchecked]:translate-x-0")})})}ye.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{ye as S};
