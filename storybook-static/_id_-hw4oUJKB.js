import{j as e}from"./jsx-runtime-u17CrQMm.js";import{f as Ve,g as Ue,t as a,r as ce,H as V,a2 as Be,a3 as Le,L as Re}from"./app-CFoDCqX-.js";import{A as U,D as ze,a as He,b as Je,c as B,d as We}from"./app-layout-CTvh2ZE0.js";import{B as m}from"./button-B9kPMW4q.js";import{B as v}from"./badge-B6bn15vN.js";import{C as he,d as me}from"./card-BT9UEfea.js";import{S as F}from"./skeleton-A7behTLO.js";import{D as k,a as q,b as $,c as E,d as L,e as R}from"./dialog-CQTA4pg1.js";import{a7 as _e,a8 as Ge,a9 as Ye,aa as Ke,a2 as ue}from"./media-status-badge-DETbNkVM.js";import{H as h,I as fe,F as Qe,y as Xe,w as z,B as Ze,T as es,f as ss,G as ts,q as xe,n as is,$ as rs,L as as,J as os,a2 as ns}from"./index.min-fvaCWwiU.js";import{S as b}from"./spinner-McTJFRVv.js";import{r as l}from"./app-BHuVDAkc.js";import{V as ls}from"./video_player-CvfBXWR_.js";import"./preload-helper-PPVm8Dsz.js";import"./client-Bx265bNG.js";import"./index-CYxWbFTv.js";import"./index-D5-0xbEa.js";import"./utils-CDN07tui.js";import"./media-teaser-CTZEtwns.js";import"./check-BEKQ83Eb.js";import"./createLucideIcon-GXN1tXoc.js";import"./useRenderElement-D0Q1kVud.js";import"./useLabelableId-CyGgmgle.js";import"./useBaseUiId-BvJSLVy2.js";import"./useValueAsRef-GoV-SdOe.js";import"./valueToPercent-CmxdyyhM.js";import"./slot-CUYGZ4Fv.js";import"./hamster-icon-DOXrnfMg.js";import"./input-Bw95PIWX.js";function ds(){const{url:pe}=Ve(),u=pe.split("/").pop(),[i,p]=l.useState(null),[ge,je]=l.useState(!0),[we,T]=l.useState(!1),[H,J]=l.useState(!1),[N,g]=l.useState({}),[W,_]=l.useState(new Set),[O,G]=l.useState(null),[ve,Ne]=l.useState(new Map),[ye,Y]=l.useState(new Set),[Se,K]=l.useState(new Set),[Fe,C]=l.useState(!1),[Q,X]=l.useState(!1),[j,M]=l.useState(null),[be,y]=l.useState(!1),[I,S]=l.useState(null),[Z,ee]=l.useState(!1),[se,te]=l.useState(!1),[P,ie]=l.useState(!1),[A,re]=l.useState(!1),[ae,oe]=l.useState(!1),[D,ne]=l.useState(null),Te=Ue();l.useEffect(()=>{f(),le();const s=setInterval(le,5e3);return()=>clearInterval(s)},[u]);const f=async()=>{try{const s=await fetch(`/api/v1/tvshows/${u}`);if(s.ok){const t=await s.json();p(t)}else s.status===404&&(a.error("TV show not found"),ce.visit("/library?tab=tv"))}catch(s){console.error("Failed to fetch show:",s),a.error("Failed to load TV show")}finally{je(!1)}},le=async()=>{try{const s=await fetch("/api/v1/queue");if(s.ok){const t=await s.json(),r=new Map;for(const o of t)o.tvShowId===u&&o.episodeId&&r.set(o.episodeId,{progress:o.progress||0,status:o.status||"downloading"});Ne(r)}}catch{}},Ce=s=>{if(s.hasFile)return{status:"downloaded",progress:100};const t=ve.get(String(s.id));return t!==void 0?t.status==="importing"?{status:"importing",progress:100}:{status:"downloading",progress:t.progress}:s.requested?{status:"requested",progress:0}:{status:"none",progress:0}},De=async s=>{if(!(N[s]||W.has(s))){_(t=>new Set(t).add(s));try{const t=await fetch(`/api/v1/tvshows/${u}/season/${s}`);if(t.ok){const r=await t.json();g(o=>({...o,[s]:r}))}}catch(t){console.error("Failed to fetch season:",t)}finally{_(t=>{const r=new Set(t);return r.delete(s),r})}}},ke=async()=>{if(!i)return;const s=i.monitored;p({...i,monitored:!s});try{(await fetch(`/api/v1/tvshows/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({monitored:!s})})).ok?a.success(s?"Monitoring disabled":"Monitoring enabled"):(p({...i,monitored:s}),a.error("Failed to update monitoring"))}catch(t){console.error("Failed to update monitoring:",t),p({...i,monitored:s}),a.error("Failed to update monitoring")}},qe=async()=>{J(!0);try{const s=await fetch(`/api/v1/tvshows/${u}`,{method:"DELETE"});if(s.ok)a.success("TV show deleted"),ce.visit("/library?tab=tv");else{const t=await s.json();a.error(t.error||"Failed to delete")}}catch(s){console.error("Failed to delete show:",s),a.error("Failed to delete TV show")}finally{J(!1),T(!1)}},$e=s=>{O===s?G(null):(G(s),De(s))},de=async(s,t,r)=>{if(r.stopPropagation(),!!i){p({...i,seasons:i.seasons.map(o=>o.seasonNumber===s?{...o,requested:!t}:o)}),N[s]&&g(o=>({...o,[s]:{...o[s],requested:!t,episodes:o[s].episodes.map(d=>({...d,requested:!t}))}})),Y(o=>new Set(o).add(s));try{const o=await fetch(`/api/v1/tvshows/${u}/season/${s}/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requested:!t})}),d=await o.json();o.ok?d.deleted?(a.success("Season removed from library"),f()):(a.success(t?"Season unrequested":"Season requested"),f()):d.hasFile?(a.error(`Cannot unrequest: ${d.episodesWithFiles} episode(s) have downloaded files. Delete files first.`),p({...i,seasons:i.seasons.map(n=>n.seasonNumber===s?{...n,requested:t}:n)}),N[s]&&g(n=>({...n,[s]:{...n[s],requested:t,episodes:n[s].episodes.map(c=>({...c,requested:t}))}}))):(p({...i,seasons:i.seasons.map(n=>n.seasonNumber===s?{...n,requested:t}:n)}),a.error(d.error||"Failed to update season"))}catch(o){console.error("Failed to update season:",o),p({...i,seasons:i.seasons.map(d=>d.seasonNumber===s?{...d,requested:t}:d)}),a.error("Failed to update season")}finally{Y(o=>{const d=new Set(o);return d.delete(s),d})}}},Ee=async(s,t,r,o,d)=>{if(i){if(t&&o){S({id:s,title:d||"Episode",seasonNumber:r,hasFile:!0}),y(!0);return}g(n=>({...n,[r]:{...n[r],episodes:n[r].episodes.map(c=>c.id===s?{...c,requested:!t}:c)}})),K(n=>new Set(n).add(s));try{const n=await fetch(`/api/v1/tvshows/${u}/episodes/${s}/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requested:!t})}),c=await n.json();n.ok?c.deleted?(a.success("Episode removed from library"),f()):(a.success(t?"Episode unrequested":"Episode requested"),f()):c.hasFile?(g(x=>({...x,[r]:{...x[r],episodes:x[r].episodes.map(w=>w.id===s?{...w,requested:t}:w)}})),S({id:s,title:d||"Episode",seasonNumber:r,hasFile:!0}),y(!0)):(g(x=>({...x,[r]:{...x[r],episodes:x[r].episodes.map(w=>w.id===s?{...w,requested:t}:w)}})),a.error(c.error||"Failed to update episode"))}catch(n){console.error("Failed to update episode:",n),g(c=>({...c,[r]:{...c[r],episodes:c[r].episodes.map(x=>x.id===s?{...x,requested:t}:x)}})),a.error("Failed to update episode")}finally{K(n=>{const c=new Set(n);return c.delete(s),c})}}},Oe=async()=>{if(I){ee(!0);try{const s=await fetch(`/api/v1/tvshows/${u}/episodes/${I.id}?deleteFile=true`,{method:"DELETE"});if(s.ok)a.success("Episode and files removed from library"),y(!1),S(null),f();else{const t=await s.json();a.error(t.error||"Failed to remove episode")}}catch(s){console.error("Failed to remove episode:",s),a.error("Failed to remove episode")}finally{ee(!1)}}},Me=async()=>{if(j){X(!0);try{const s=await fetch(`/api/v1/tvshows/${u}/episodes/${j.id}/file`,{method:"DELETE"});if(s.ok)a.success("Episode file deleted successfully"),g(t=>({...t,[j.seasonNumber]:{...t[j.seasonNumber],episodes:t[j.seasonNumber].episodes.map(r=>r.id===j.id?{...r,hasFile:!1,episodeFile:null}:r)}})),f();else{const t=await s.json();a.error(t.error||"Failed to delete file")}}catch(s){console.error("Failed to delete episode file:",s),a.error("Failed to delete file")}finally{X(!1),C(!1),M(null)}}},Ie=async()=>{if(i){ie(!0);try{const s=await fetch(`/api/v1/tvshows/${u}/enrich`,{method:"POST"});if(s.ok){const t=await s.json();t.enriched?(a.success(`TV show enriched with TMDB data (${t.seasonsEnriched} seasons updated)`),f()):a.warning(t.message||"No matching TV show found")}else{const t=await s.json();a.error(t.error||"Failed to enrich")}}catch(s){console.error("Failed to enrich TV show:",s),a.error("Failed to enrich TV show")}finally{ie(!1)}}},Pe=async()=>{if(i){re(!0);try{const s=await fetch(`/api/v1/tvshows/${u}/refresh`,{method:"POST"});if(s.ok){const t=await s.json(),r=[];t.seasonsCreated>0&&r.push(`${t.seasonsCreated} seasons added`),t.episodesCreated>0&&r.push(`${t.episodesCreated} episodes added`),r.length>0?a.success(`Refreshed: ${r.join(", ")}`):a.success("Metadata refreshed (no new episodes)"),f(),g({})}else{const t=await s.json();a.error(t.error||"Failed to refresh")}}catch(s){console.error("Failed to refresh TV show:",s),a.error("Failed to refresh TV show")}finally{re(!1)}}},Ae=async()=>{if(!i)return;const s=i.seasons.filter(t=>!t.requested);if(s.length===0){a.info("All seasons are already requested");return}p({...i,seasons:i.seasons.map(t=>({...t,requested:!0}))}),te(!0);try{const r=(await Promise.all(s.map(o=>fetch(`/api/v1/tvshows/${u}/season/${o.seasonNumber}/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requested:!0})})))).filter(o=>!o.ok).length;r===0?(a.success(`Requested ${s.length} seasons`),f()):r<s.length?(a.warning(`Requested ${s.length-r} seasons, ${r} failed`),f()):(a.error("Failed to request seasons"),f())}catch(t){console.error("Failed to request all seasons:",t),a.error("Failed to request seasons"),f()}finally{te(!1)}};return ge?e.jsxs(U,{title:"Loading...",children:[e.jsx(V,{title:"Loading..."}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex gap-6",children:[e.jsx(F,{className:"h-72 w-48 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(F,{className:"h-8 w-1/3"}),e.jsx(F,{className:"h-4 w-1/4"}),e.jsx(F,{className:"h-4 w-2/3"})]})]})})]}):i?e.jsxs(U,{title:i.title,actions:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(m,{variant:"outline",asChild:!0,children:e.jsxs(Re,{href:"/library?tab=tv",children:[e.jsx(h,{icon:is,className:"h-4 w-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:"Back"})]})}),e.jsxs(m,{variant:"outline",size:"sm",onClick:ke,children:[e.jsx(h,{icon:i.monitored?rs:as,className:"h-4 w-4 md:mr-2"}),e.jsx("span",{className:"hidden md:inline",children:i.monitored?"Monitored":"Monitor"})]}),e.jsxs(ze,{children:[e.jsx(He,{asChild:!0,children:e.jsx(m,{variant:"outline",size:"icon",children:e.jsx(h,{icon:os,className:"h-4 w-4"})})}),e.jsxs(Je,{align:"end",children:[!i.tmdbId&&e.jsxs(B,{onClick:Ie,disabled:P,children:[e.jsx(h,{icon:z,className:`h-4 w-4 mr-2 ${P?"animate-spin":""}`}),P?"Enriching...":"Enrich from TMDB"]}),i.tmdbId&&e.jsxs(B,{onClick:Pe,disabled:A,children:[e.jsx(h,{icon:ns,className:`h-4 w-4 mr-2 ${A?"animate-spin":""}`}),A?"Refreshing...":"Refresh from TMDB"]}),e.jsx(We,{}),e.jsxs(B,{className:"text-destructive",onClick:()=>T(!0),children:[e.jsx(h,{icon:xe,className:"h-4 w-4 mr-2"}),"Remove from Library"]})]})]})]}),children:[e.jsx(V,{title:i.title}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"-mx-4 -mt-4 mb-6",children:e.jsx(Be,{trailerUrl:i.trailerUrl,images:i.backdropImages?.length?i.backdropImages:i.backdropUrl?[i.backdropUrl]:void 0,title:i.title,className:"h-48 md:h-64"})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"w-full md:w-48 aspect-[2/3] md:aspect-auto md:h-72 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:i.posterUrl?e.jsx("img",{src:i.posterUrl,alt:i.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(h,{icon:fe,className:"h-16 w-16 text-muted-foreground/50"})})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold",children:i.title}),i.year&&e.jsxs("span",{className:"text-muted-foreground",children:["(",i.year,")"]})]}),i.originalTitle&&i.originalTitle!==i.title&&e.jsx("p",{className:"text-muted-foreground",children:i.originalTitle})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.status&&e.jsx(v,{variant:"outline",children:i.status}),i.network&&e.jsx(v,{variant:"outline",children:i.network})]}),e.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm",children:[i.firstAired&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(h,{icon:Qe,className:"h-4 w-4"}),i.firstAired]}),i.rating&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(h,{icon:Xe,className:"h-4 w-4"}),i.rating.toFixed(1)]}),e.jsxs("div",{className:"text-muted-foreground",children:[i.seasonCount," seasons • ",i.episodeCount," episodes"]})]}),i.genres&&i.genres.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:i.genres.slice(0,5).map((s,t)=>e.jsx(v,{variant:"outline",children:s},t))}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[i.qualityProfile&&e.jsx(v,{variant:"secondary",children:i.qualityProfile.name}),i.rootFolder&&e.jsx(v,{variant:"secondary",children:i.rootFolder.path})]}),i.tmdbId&&e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:`https://www.themoviedb.org/tv/${i.tmdbId}`,target:"_blank",rel:"noopener noreferrer",className:"text-muted-foreground hover:text-primary",children:"TMDB"})})]})]}),i.overview&&e.jsx(he,{children:e.jsxs(me,{className:"pt-6",children:[e.jsx("h2",{className:"font-semibold mb-2",children:"Overview"}),e.jsx("p",{className:"text-muted-foreground",children:i.overview})]})}),e.jsx(he,{children:e.jsxs(me,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"font-semibold",children:"Seasons"}),i.seasons.some(s=>!s.requested)&&e.jsx(m,{variant:"outline",size:"sm",onClick:Ae,disabled:se,children:se?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2"}),"Requesting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{icon:z,className:"h-4 w-4 mr-2"}),"Request All"]})})]}),i.seasons.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No seasons found"}):e.jsx("div",{className:"space-y-2",children:i.seasons.map(s=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>$e(s.seasonNumber),className:"flex items-center gap-4 w-full p-4 hover:bg-muted/50 transition-colors text-left",children:[s.posterUrl?e.jsx("img",{src:s.posterUrl,alt:s.title,className:"h-16 w-12 rounded object-cover"}):e.jsx("div",{className:"h-16 w-12 rounded bg-muted flex items-center justify-center",children:e.jsx(h,{icon:fe,className:"h-6 w-6 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("span",{children:[s.episodeCount," episodes"]}),(s.downloadedCount>0||s.downloadingCount>0||s.requestedCount>0)&&e.jsx("span",{className:"text-muted-foreground/50 hidden sm:inline",children:"•"}),s.downloadedCount>0&&e.jsxs("span",{className:"text-green-600 font-medium",children:[s.downloadedCount," downloaded"]}),s.downloadingCount>0&&e.jsxs("span",{className:"text-blue-600 font-medium",children:[s.downloadingCount," downloading"]}),s.requestedCount>0&&e.jsxs("span",{className:"text-yellow-600 font-medium",children:[s.requestedCount," requested"]})]})]}),ye.has(s.seasonNumber)?e.jsxs(v,{variant:"secondary",className:"bg-muted text-muted-foreground",children:[e.jsx(b,{className:"size-3 mr-1"}),s.requested?"Requesting...":"Unrequesting..."]}):s.requested?e.jsx(_e,{children:e.jsxs(Ge,{children:[e.jsx(Ye,{asChild:!0,children:e.jsxs(v,{variant:"secondary",className:"cursor-pointer bg-yellow-600 hover:bg-destructive text-white transition-colors group",onClick:t=>de(s.seasonNumber,!0,t),children:[e.jsx("span",{className:"group-hover:hidden",children:"Requested"}),e.jsx("span",{className:"hidden group-hover:inline",children:"Unrequest"})]})}),e.jsx(Ke,{children:"Click to unrequest"})]})}):e.jsxs(m,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs",onClick:t=>de(s.seasonNumber,!1,t),children:[e.jsx(h,{icon:z,className:"h-3 w-3 mr-1"}),"Request"]}),e.jsx(h,{icon:O===s.seasonNumber?Ze:es,className:"h-5 w-5 text-muted-foreground"})]}),O===s.seasonNumber&&e.jsx("div",{className:"border-t p-4",children:W.has(s.seasonNumber)?e.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((t,r)=>e.jsx(F,{className:"h-12 w-full"},r))}):N[s.seasonNumber]?e.jsx("div",{className:"space-y-2",children:N[s.seasonNumber].episodes.map(t=>e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 p-3 rounded-lg bg-muted/50",children:[e.jsx("div",{className:"w-6 sm:w-8 text-center font-mono text-muted-foreground text-sm sm:text-base flex-shrink-0",children:t.episodeNumber}),t.stillUrl?e.jsx("img",{src:t.stillUrl,alt:t.title,className:"h-12 w-20 rounded object-cover hidden sm:block"}):e.jsx("div",{className:"h-12 w-20 rounded bg-muted hidden sm:block"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:t.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.airDate||"TBA",t.runtime&&` • ${t.runtime}m`]}),t.episodeFile&&e.jsx("p",{className:"text-xs text-muted-foreground/70 truncate",children:t.episodeFile.path})]}),e.jsx("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:(()=>{const{status:r,progress:o}=Ce(t);return r==="downloaded"?e.jsxs(e.Fragment,{children:[e.jsx(ue,{status:"downloaded",size:"sm"}),t.episodeFile&&e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"default",size:"icon",className:"h-7 w-7",onClick:()=>{Te.pause(),ne({id:t.id,fileId:t.episodeFile.id,title:`S${s.seasonNumber.toString().padStart(2,"0")}E${t.episodeNumber.toString().padStart(2,"0")} - ${t.title}`}),oe(!0)},children:e.jsx(h,{icon:ss,className:"h-3.5 w-3.5"})}),e.jsx(m,{variant:"outline",size:"icon",className:"h-7 w-7",asChild:!0,children:e.jsx("a",{href:t.episodeFile.downloadUrl,download:!0,children:e.jsx(h,{icon:ts,className:"h-3.5 w-3.5"})})})]}),e.jsx(m,{variant:"outline",size:"icon",className:"h-7 w-7 text-destructive hover:text-destructive",onClick:()=>{M({id:t.id,title:t.title,seasonNumber:s.seasonNumber}),C(!0)},children:e.jsx(h,{icon:xe,className:"h-3.5 w-3.5"})})]}):e.jsx(ue,{status:r,progress:o,isToggling:Se.has(t.id),onToggleRequest:()=>Ee(t.id,t.requested,s.seasonNumber,t.hasFile,t.title||`Episode ${t.episodeNumber}`)})})()})]},t.id))}):null})]},s.id))})]})}),i.tmdbId&&e.jsx(Le,{mediaType:"tv",mediaId:i.id,tmdbId:i.tmdbId})]}),e.jsx(k,{open:we,onOpenChange:T,children:e.jsxs(q,{children:[e.jsxs($,{children:[e.jsxs(E,{children:["Delete ",i.title,"?"]}),e.jsx(L,{children:"This will remove the TV show and all seasons/episodes from your library. Files on disk will not be deleted."})]}),e.jsxs(R,{children:[e.jsx(m,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),e.jsx(m,{variant:"destructive",onClick:qe,disabled:H,children:H?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2"}),"Deleting..."]}):"Delete"})]})]})}),e.jsx(k,{open:Fe,onOpenChange:s=>{C(s),s||M(null)},children:e.jsxs(q,{children:[e.jsxs($,{children:[e.jsx(E,{children:"Delete episode file?"}),e.jsxs(L,{children:['This will permanently delete the file for "',j?.title,'" from disk. The episode will remain in your library but will need to be downloaded again.']})]}),e.jsxs(R,{children:[e.jsx(m,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),e.jsx(m,{variant:"destructive",onClick:Me,disabled:Q,children:Q?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2"}),"Deleting..."]}):"Delete File"})]})]})}),e.jsx(k,{open:be,onOpenChange:s=>{y(s),s||S(null)},children:e.jsxs(q,{children:[e.jsxs($,{children:[e.jsx(E,{children:"Remove from library?"}),e.jsxs(L,{children:['"',I?.title,'" has downloaded files. This will permanently delete the files from disk and remove the episode from your library.']})]}),e.jsxs(R,{children:[e.jsx(m,{variant:"outline",onClick:()=>{y(!1),S(null)},children:"Cancel"}),e.jsx(m,{variant:"destructive",onClick:Oe,disabled:Z,children:Z?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"mr-2"}),"Removing..."]}):"Delete Files & Remove"})]})]})}),e.jsx(k,{open:ae,onOpenChange:s=>{oe(s),s||ne(null)},children:e.jsxs(q,{className:"max-w-6xl p-0 overflow-hidden",children:[e.jsx($,{className:"p-4 pb-0",children:e.jsxs(E,{children:[i?.title," - ",D?.title]})}),D&&ae&&e.jsx(ls,{mediaType:"episode",mediaFileId:D.fileId,title:`${i?.title} - ${D.title}`})]})})]}):e.jsxs(U,{title:"Not Found",children:[e.jsx(V,{title:"Not Found"}),e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"TV show not found"})})]})}ds.__docgenInfo={description:"",methods:[],displayName:"TvShowDetail"};export{ds as default};
